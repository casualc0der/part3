{"version":3,"sources":["Filter.js","PersonForm.js","Persons.js","Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filter","onChange","PersonForm","onSubmit","name","onNameChange","number","onNumberChange","value","type","Persons","search","deleter","length","map","e","key","onClick","Notification","message","style","includes","backgroundColor","borderStyle","borderColor","color","fontSize","className","obj","axios","post","then","response","data","id","delete","res","status","get","user","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","uMessage","SetUMessage","useEffect","phonebook","re","RegExp","target","toUpperCase","hello","x","match","preventDefault","some","window","confirm","find","updatedUser","pList","p","concat","setTimeout","newContact","code","console","log","updatedList","catch","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.1acebea3.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filter }) => {\n  return (\n    <p>\n      Filter shown with: <input onChange={filter}></input>\n    </p>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  name,\n  onNameChange,\n  number,\n  onNumberChange,\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={name} onChange={onNameChange} />\n      </div>\n      <div>\n        number: <input value={number} onChange={onNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ search, deleter }) => {\n  if (search.length > 0) {\n    return search.map((e) => (\n      <li key={e.name}>\n        {\" \"}\n        {e.name} {e.number}\n        <button onClick={() => deleter(e)}>delete me</button>\n      </li>\n    ));\n  } else {\n    return null;\n  }\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  const errorStyle = {\n    backgroundColor: \"grey\",\n    borderStyle: \"solid\",\n    borderColor: \"red\",\n    color: \"white\",\n    fontSize: \"large\",\n  };\n  const notificationStyle = {\n    backgroundColor: \"grey\",\n    borderStyle: \"solid\",\n    borderColor: \"green\",\n    color: \"white\",\n    fontSize: \"large\",\n  };\n\n  if (message === null) {\n    return null;\n  }\n  const style = message.includes(\"ERROR\") ? errorStyle : notificationStyle;\n  return (\n    <div style={style} className=\"error\">\n      {message}\n    </div>\n  );\n};\n\nexport default Notification;\n","import axios from \"axios\";\nconst BASE_URL = \"/api/persons\";\n\nconst entryAll = () => {\n  const request = axios.get(BASE_URL);\n  return request.then((response) => response.data);\n};\nconst entryNew = (obj) => {\n  const request = axios.post(BASE_URL, obj);\n  return request.then((response) => response.data);\n};\nconst entryDelete = (id) => {\n  const request = axios.delete(`${BASE_URL}/${id}`);\n  return request.then((res) => res.status);\n};\n\nconst entryEdit = (user) => {\n  const request = axios.put(`${BASE_URL}/${user.id}`, user);\n  return request.then((response) => response.data);\n};\n\nexport default { entryNew, entryDelete, entryAll, entryEdit };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./Filter\";\nimport PersonForm from \"./PersonForm\";\nimport Persons from \"./Persons\";\nimport Notification from \"./Notification\";\nimport phonebook from \"./services/phonebook\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newSearch, setNewSearch] = useState(persons);\n  const [uMessage, SetUMessage] = useState(null);\n\n  useEffect(() => {\n    phonebook.entryAll().then((response) => {\n      setNewSearch(response);\n      setPersons(response);\n    });\n  }, []);\n\n  const addName = (e) => {\n    e.preventDefault();\n\n    let nameCheck = persons.some(\n      (e) => e.name.toUpperCase() === newName.toUpperCase()\n    );\n\n    if (nameCheck) {\n      // lookup by name??\n      const result = window.confirm(`Really change the number of ${newName}?`);\n      if (result) {\n        const user = persons.find(\n          (x) => x.name.toUpperCase() === newName.toUpperCase()\n        );\n        const updatedUser = { ...user, number: newNumber };\n        phonebook.entryEdit(updatedUser).then((response) => {\n          const pList = persons\n            .filter((p) => p.id !== updatedUser.id)\n            .concat(updatedUser);\n          setNewSearch(pList);\n          setPersons(pList);\n\n          SetUMessage(`${newName}'s number has been updated to ${newNumber}`);\n          setTimeout(() => {\n            SetUMessage(null);\n          }, 5000);\n        });\n      } else {\n        setNewName(\"\");\n        setNewNumber(\"\");\n        return;\n      }\n    } else {\n      let newContact = {\n        name: newName,\n        number: newNumber,\n      };\n\n      phonebook.entryNew(newContact).then((response) => {\n        setNewSearch(persons.concat(response));\n        setPersons(persons.concat(response));\n        SetUMessage(\n          `${newContact.name}'s number has been added to the phonebook!`\n        );\n        setTimeout(() => {\n          SetUMessage(null);\n        }, 5000);\n      });\n\n      setNewName(\"\");\n      setNewNumber(\"\");\n    }\n  };\n\n  const handlePersonChange = (e) => {\n    setNewName(e.target.value);\n  };\n\n  const handleNumberChange = (e) => {\n    setNewNumber(e.target.value);\n  };\n\n  const handleDelete = ({ name, id }) => {\n    const result = window.confirm(`Delete ${name}?`);\n    if (result) {\n      phonebook\n        .entryDelete(id)\n        .then((code) => {\n          console.log(code);\n          if (code === 204) {\n            const updatedList = persons.filter((p) => p.id !== id);\n            setNewSearch(updatedList);\n            setPersons(updatedList);\n            SetUMessage(`${name} has been deleted!`);\n            setTimeout(() => {\n              SetUMessage(null);\n            }, 5000);\n          }\n        })\n        .catch((e) => {\n          SetUMessage(`ERROR: Entry ${name} has already been deleted`);\n          setTimeout(() => {\n            SetUMessage(null);\n          }, 5000);\n        });\n    }\n  };\n\n  const handleSearch = (e) => {\n    let re = new RegExp(`${e.target.value.toUpperCase()}`);\n    let hello = persons.filter((x) => x.name.toUpperCase().match(re));\n\n    setNewSearch(hello);\n  };\n\n  return (\n    <div>\n      <Notification message={uMessage} />\n      <h2>Phonebook</h2>\n      <Filter filter={handleSearch} />\n      <h2>Add a new</h2>\n      <PersonForm\n        name={newName}\n        onSubmit={addName}\n        onNameChange={handlePersonChange}\n        number={newNumber}\n        onNumberChange={handleNumberChange}\n      />\n      <h2>Numbers</h2>\n      <ul>\n        <Persons search={newSearch} deleter={handleDelete} />\n      </ul>\n      ...\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}